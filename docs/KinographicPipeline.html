<!DOCTYPE html>
<html>
<head>
    <title>Kinographic Feedback Loop</title>
    <style>
        /* General Page Styles */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }
        h1, h2, h3 {
            text-align: center;
        }

        /* Flexbox Container Styles */
        .media-container {
            display: flex;
            gap: 20px; /* Space between media items */
            justify-content: center; /* Center content horizontally */
            align-items: flex-start; /* Align items at the top */
            flex-wrap: wrap; /* Wrap items on smaller screens */
        }

        /* Media Item Styles */
        .media-item {
            flex: 1;
            max-width: 45%; /* Ensure each item takes up to 45% of the container's width */
            box-sizing: border-box;
        }

        /* Image and Video Styles */
        .media-item img,
        .media-item video {
            width: 100%; /* Make media fill the container */
            height: auto; /* Maintain aspect ratio */
            border: 1px solid #ddd; /* Optional border for better visual separation */
            border-radius: 4px; /* Rounded corners for a nicer look */
        }

        /* Preformatted Text Styles */
        pre {
            background-color: #f4f4f4; /* Light grey background */
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto; /* Horizontal scrolling for long text */
            font-size: 14px;
            line-height: 1.5;
        }

        /* Flowchart Container Styles */
        .flowchart-container {
            text-align: center; /* Center the flowchart content */
            margin-top: 20px;
        }

        .flowchart-container img {
            max-width: 80%; /* Keep the flowchart image at a manageable size */
            width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <!-- Kinographic Conversion Section -->
    <div class="kinographic-feedback-loop">
        <h1>Kinographic Conversion</h1>
        <p>
            Inputting a full animation is not nessacary for the LLM to analyze the animation. By leveraging kinographs, a series of images from the animation which depict motion, we are able to 
            more quickly and efficiently analyze the animation. This feedback loop has three steps:
        </p>
        <ol>
            <li>Take the previous iteration's animation and convert it into a kinograph.</li>
            <li>Input the previous animation's kinograph, the penultimate iteration's kinograph, and the original prompt into the LLM and compare which 
                animation better matches the original prompt.</li> 
            <li>Take the better performing animation and input it back into the LLM for feedback. This feedback is used to inform the next iteration's prompt.</li>
        </ol>
        <div class="media-container">
            <!-- Video Item with Title -->
            <div class="media-item">
                <h2>Animation</h2>
                <video controls loop autoplay muted>
                    <source src="PlanetaryOrbitAnimation_o1.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>

            <!-- Image Item with Title -->
            <div class="media-item">
                <h3>Kinograph</h3>
                <img src="OrbitsKinographFinal.png" alt="Kinograph Image">
                <p>
                    The animation is cut every 20 frames to create a sequence of images, which is then fed into the LLM. This is the process
                    by which the LLM is able to critique the animation.
                </p>
            </div>
        </div>
    </div>

    <!-- LLM Decision Section -->
    <div class="llm-decision">
        <h2>LLM Decision</h2>
        <p>
            Through this iterative process, the LLM needs to make a choice as to whether the previous iteration's animation was an improvement on the animation before it. 
            This decision prevents the LLM from regressing in quality over time, as we are constantly progressing the best performing animation and its associated code.
        </p>
        <pre>
LLM Decision on the two previous iterations:
#Set 2 refers to the the previous iteration's kinograph
#Set 1 refers to the penultimate iteration's kinograph
Set 2

The second set of images offers a clearer representation of a
ball mid-bounce, showing its elevation above ground and then 
returning back to the surface, which suggests motion more effectively
than the first set. In Set 2, there is a more dynamic depiction with 
visible changes in the ballâ€™s height, supporting the theme of 'balls bouncing'. 
This set also shows the ball at different heights, which better visualizes the 
action of bouncing compared to the relatively static positioning in Set 1 where 
the ball seems to make smaller, less noticeable movements. Set 2 captures the 
essence of bounce through more apparent vertical motion.
        </pre>

        <!-- Flowchart Container -->
        <div class="flowchart-container">
            <img src="Flowchart.png" alt="Kinograph Critique Flow Chart">
            <h3>Kinograph Critique Flow Chart</h3>
            <p>
                A kinograph is passed through to the LLM and critiqued against the original prompt, and this 
                updated prompt is used to generate the next iteration's code. This example depicts a bouncing 
                ball kinograph and the process of how it is critiqued.
            </p>
            <pre>
LLM Feedback on Animation:
To improve the animation and better fit the prompt, consider increasing the number of 
balls and introducing varied movement patterns and heights of the bounces to add more 
dynamism and interest to the animation.
            </pre>
        </div>
    </div>
</body>
</html>
